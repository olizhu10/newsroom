<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <link rel="stylesheet" type="text/css" href="/static/styles.css?u={{ last_updated }}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script type='text/javascript' src="/static/hilitor.js?u={{ last_updated }}"></script>
    <script src="/static/mark.min.js" charset="UTF-8"></script>
    <script type='text/javascript' charset='utf-8'>
      $(document).ready(function() {
        $('.frag').click(function(e) {
          id = 'article-text'
          keyword = e.target.value
          console.log(keyword)
          highlight(id,keyword)
        });
      });

      function highlight(id,keyword) {
        var context = document.querySelector("#"+id);
        var instance = new Mark(context);
        instance.unmark();
        instance.mark(keyword, {
          separateWordSearch:false
        });
        console.log('marked');
      };
    </script>
  </head>

  <body>
    <div id="selection">
      {% block cluster %}
      <div id="cluster-select">
        <p class="prompt">Please enter the cluster you'd like to analyze.</p>
        <form id="cluster" action="/search" method="POST">
          {% block cluster_input %}
          Cluster index: <input type="number" min='0' max='12986' name="cluster" id="cluster-id"/>
          {% endblock %}
          <input type="submit" value="Submit" id="cluster-submit"/>
        </form>
        <form id="rand-cluster" action="/random" method="POST">
          <input type="submit" value="Generate random cluster!" id="random-cluster"/>
        </form>
      </div>
      {% endblock %}

      {% block buttons %}
      {% endblock %}
    </div>

    {% block texts %}
    {% endblock %}

    {% block info %}
    {% endblock %}
  <body>
</html>
